(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{39:function(e,t,a){},40:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),s=a(10),r=a.n(s),l=(a(39),a(40),a(15)),o=a.n(l),i=a(7),d=a(65),j=a(69),b=a(70),h=a(1);function u(){return Object(h.jsx)("footer",{children:Object(h.jsxs)(d.a,{className:"bg-light text-center p-5",fluid:!0,children:[Object(h.jsxs)("p",{children:["Made with love by Joe Kerrigan. Check out the ",Object(h.jsx)("a",{href:"https://github.com/joek13/wxtj-converter",children:"source code"})]}),Object(h.jsxs)("p",{children:["Notice any bugs? Do you have any feedback or feature requests? Do you use this application and want me to know so I can listen to your show? Reach me at ",Object(h.jsx)("a",{href:"mailto:joek1301@gmail.com",children:"joek1301@gmail.com"})]})]})})}var O=function(){return Object(h.jsx)("header",{children:Object(h.jsx)("section",{className:"jumbotron text-center",children:Object(h.jsxs)(d.a,{children:[Object(h.jsx)("h1",{children:"wxtju/wtju playlist converter"}),Object(h.jsxs)("p",{className:"lead",children:["Quickly convert your Spotify playlists to ",Object(h.jsx)("code",{children:".csv"})]})]})})})},x=a(66),p=a(31),m=a(67),f=a.p+"static/media/help1.821cbdef.png",g=a.p+"static/media/help2.910cc469.png";function y(){return Object(h.jsxs)(d.a,{className:"text-center mt-5",children:[Object(h.jsx)("h2",{className:"h4 mb-3",children:"How it works"}),Object(h.jsxs)(x.a,{children:[Object(h.jsxs)(p.a,{className:"px-4",md:!0,children:[Object(h.jsx)(m.a,{src:f,className:"mb-2",fluid:!0,rounded:!0}),Object(h.jsx)("p",{children:"Right-click your playlist on Spotify. Use Share > Copy Playlist Link, and paste the URL in the box above."})]}),Object(h.jsxs)(p.a,{className:"px-4",md:!0,children:[Object(h.jsx)(m.a,{src:g,className:"mb-2",fluid:!0,rounded:!0}),Object(h.jsxs)("p",{children:["Once the ",Object(h.jsx)("code",{children:".csv"}),' file is downloaded, open your show WTJU\'s playlist editor. Look at "upload playlist", choose the downloaded ',Object(h.jsx)("code",{children:".csv"}),' file, and click "upload".']})]})]})]})}var v=a(71),w=a(68);function k(e){var t=e.handleSubmit,a=e.loading,n=Object(c.useState)(""),s=Object(i.a)(n,2),r=s[0],l=s[1],o=Object(c.useState)("true"===localStorage.getItem("useOldPlaylistEditor")),d=Object(i.a)(o,2),j=d[0],b=d[1],u=Object(c.useState)(localStorage.getItem("showTitle")||void 0),O=Object(i.a)(u,2),m=O[0],f=O[1],g=Object(c.useState)(""),y=Object(i.a)(g,2),k=y[0],S=y[1];return Object(h.jsxs)(v.a,{onSubmit:function(e){e.preventDefault(),t({playlistUrl:r,oldPlaylistEditor:j,showTitle:m,showDate:k})},children:[Object(h.jsxs)(v.a.Group,{className:"mb-3",controlId:"playlistUrl",children:[Object(h.jsx)(v.a.Label,{children:"Playlist URL"}),Object(h.jsx)(v.a.Control,{type:"url",placeholder:"https://open.spotify.com/playlist/4BmW06g5m70HkwZEA1mds9?si=9f6b19eec5fd44e3",value:r,onChange:function(e){return l(e.currentTarget.value)},required:!0,disabled:a})]}),Object(h.jsx)(v.a.Group,{className:"mb-2",controlId:"oldPlaylistEditor",children:Object(h.jsx)(v.a.Check,{checked:j,onChange:function(e){var t=e.currentTarget.checked;localStorage.setItem("useOldPlaylistEditor",t.toString()),b(t)},label:"Format for Old Playlist Editor",disabled:a})}),j?Object(h.jsxs)(x.a,{children:[Object(h.jsx)(p.a,{children:Object(h.jsxs)(v.a.Group,{controlId:"showTitle",children:[Object(h.jsx)(v.a.Label,{children:"Show title"}),Object(h.jsx)(v.a.Control,{placeholder:"hot tub listening club",value:m,onChange:function(e){var t=e.currentTarget.value;localStorage.setItem("showTitle",t),f(t)},required:!0,disabled:a}),Object(h.jsx)(v.a.Text,{children:"Your show's title as it appears in the station interface."})]})}),Object(h.jsx)(p.a,{children:Object(h.jsxs)(v.a.Group,{controlId:"showDate",children:[Object(h.jsx)(v.a.Label,{children:"Show date"}),Object(h.jsx)(v.a.Control,{type:"date",value:k,onChange:function(e){return S(e.currentTarget.value)},required:!0,disabled:a}),Object(h.jsx)(v.a.Text,{children:"The date this show will air."})]})})]}):null,Object(h.jsx)("div",{className:"text-center",children:Object(h.jsx)(w.a,{variant:"primary",type:"submit",className:"mt-3",disabled:a,children:"Convert"})})]})}function S(e){var t=e.warnings;return Object(h.jsx)(d.a,{className:"options",fluid:"md",children:t.map((function(e){return Object(h.jsxs)(b.a,{variant:"warning",children:[Object(h.jsx)(b.a.Heading,{children:"Track warning"}),Object(h.jsx)("p",{children:e})]})}))})}var N=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(void 0),r=Object(i.a)(s,2),l=r[0],x=r[1],p=Object(c.useState)([]),m=Object(i.a)(p,2),f=m[0],g=m[1];return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("main",{children:[Object(h.jsx)(O,{}),Object(h.jsx)(d.a,{className:"options",fluid:"md",children:Object(h.jsx)(k,{loading:a,handleSubmit:function(e){n(!0),x(void 0),g([]);var t=e.oldPlaylistEditor?"/convert_old_playlist":"/convert_new_playlist",a={playlist_url:e.playlistUrl,show_title:e.showTitle,show_date:e.showDate};o.a.post(t,a).then((function(e){if(e.data){g(e.data.warnings);var t=document.createElement("a"),a=new Blob([e.data.body],{type:"text/plain"});t.href=URL.createObjectURL(a),t.download="playlist.csv",document.body.appendChild(t),t.click(),t.remove()}else x("Malformed response")})).catch((function(e){console.error(e),console.log(e),e.response?e.response.data&&e.response.data.error?x(e.response.data.error):x("Unknown server error"):e.request?x("Unknown request error"):x("Unknown error")})).finally((function(){n(!1)}))}})}),Object(h.jsx)(d.a,{className:"text-center py-3",children:a?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(j.a,{animation:"border"}),Object(h.jsx)("p",{children:"Converting your tunes..."})]}):null}),l&&Object(h.jsx)(d.a,{className:"options",fluid:"md",children:Object(h.jsxs)(b.a,{variant:"danger",children:[Object(h.jsx)(b.a.Heading,{children:"Conversion error"}),Object(h.jsx)("p",{children:l})]})}),f!==[]&&Object(h.jsx)(S,{warnings:f}),Object(h.jsx)(y,{}),Object(h.jsx)(u,{})]})})};o.a.defaults.baseURL="https://k3eycnkg18.execute-api.us-east-1.amazonaws.com/";var C=function(){return Object(h.jsx)(N,{})},T=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,72)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),s(e),r(e)}))};r.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(C,{})}),document.getElementById("root")),T()}},[[63,1,2]]]);
//# sourceMappingURL=main.41af6cf6.chunk.js.map