(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{40:function(e,t,a){},41:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),s=a(10),r=a.n(s),l=(a(40),a(41),a(15)),i=a.n(l),o=a(7),d=a(66),j=a(70),h=a(71),b=a(1);function u(){return Object(b.jsx)("footer",{children:Object(b.jsxs)(d.a,{className:"bg-light text-center p-5",fluid:!0,children:[Object(b.jsxs)("p",{children:["View the ",Object(b.jsx)("a",{href:"https://github.com/joek13/wxtj-converter",children:"source code"})]}),Object(b.jsxs)("p",{children:["Bugs? Feedback or feature requests? Want me to listen to your show? Reach me at ",Object(b.jsx)("a",{href:"mailto:joek1301@gmail.com",children:"joek1301@gmail.com"})]})]})})}var O=function(){return Object(b.jsx)("header",{children:Object(b.jsx)("section",{className:"jumbotron text-center",children:Object(b.jsxs)(d.a,{children:[Object(b.jsx)("h1",{children:"wxtj/wtju playlist converter"}),Object(b.jsxs)("p",{className:"lead",children:["Quickly convert your Spotify playlists to ",Object(b.jsx)("code",{children:".csv"})]})]})})})},p=a(67),x=a(31),m=a(68),f=a.p+"static/media/help1.821cbdef.png",g=a.p+"static/media/help2.910cc469.png";function y(){return Object(b.jsxs)(d.a,{className:"text-center mt-5",children:[Object(b.jsx)("h2",{className:"h4 mb-3",children:"How it works"}),Object(b.jsxs)(p.a,{children:[Object(b.jsxs)(x.a,{className:"px-4",md:!0,children:[Object(b.jsx)(m.a,{src:f,className:"mb-2",width:"600",height:"365",alt:"Image of a Spotify playlist. The user is clicking the Share submenu and selecting the option Copy Playlist Link.",fluid:!0,rounded:!0}),Object(b.jsx)("p",{children:"Right-click your playlist on Spotify. Use Share > Copy Playlist Link, and paste the URL in the box above."})]}),Object(b.jsxs)(x.a,{className:"px-4",md:!0,children:[Object(b.jsx)(m.a,{src:g,className:"mb-2",width:"600",height:"365",alt:"Image of the WTJU station interface.",fluid:!0,rounded:!0}),Object(b.jsxs)("p",{children:["Once the ",Object(b.jsx)("code",{children:".csv"}),' file is downloaded, open your show WTJU\'s playlist editor. Look at "upload playlist", choose the downloaded ',Object(b.jsx)("code",{children:".csv"}),' file, and click "upload".']})]})]})]})}var v=a(72),w=a(69);function k(e){var t=e.handleSubmit,a=e.loading,n=Object(c.useState)(""),s=Object(o.a)(n,2),r=s[0],l=s[1],i=Object(c.useState)("true"===localStorage.getItem("useOldPlaylistEditor")),d=Object(o.a)(i,2),j=d[0],h=d[1],u=Object(c.useState)(localStorage.getItem("showTitle")||void 0),O=Object(o.a)(u,2),m=O[0],f=O[1],g=Object(c.useState)(""),y=Object(o.a)(g,2),k=y[0],S=y[1];return Object(b.jsxs)(v.a,{onSubmit:function(e){e.preventDefault(),t({playlistUrl:r,oldPlaylistEditor:j,showTitle:m,showDate:k})},children:[Object(b.jsxs)(v.a.Group,{className:"mb-3",controlId:"playlistUrl",children:[Object(b.jsx)(v.a.Label,{children:"Playlist URL"}),Object(b.jsx)(v.a.Control,{type:"url",placeholder:"https://open.spotify.com/playlist/4BmW06g5m70HkwZEA1mds9?si=9f6b19eec5fd44e3",value:r,onChange:function(e){return l(e.currentTarget.value)},required:!0,disabled:a})]}),Object(b.jsx)(v.a.Group,{className:"mb-2",controlId:"oldPlaylistEditor",children:Object(b.jsx)(v.a.Check,{checked:j,onChange:function(e){var t=e.currentTarget.checked;localStorage.setItem("useOldPlaylistEditor",t.toString()),h(t)},label:"Format for Old Playlist Editor",disabled:a})}),j?Object(b.jsxs)(p.a,{children:[Object(b.jsx)(x.a,{children:Object(b.jsxs)(v.a.Group,{controlId:"showTitle",children:[Object(b.jsx)(v.a.Label,{children:"Show title"}),Object(b.jsx)(v.a.Control,{placeholder:"hot tub listening club",value:m,onChange:function(e){var t=e.currentTarget.value;localStorage.setItem("showTitle",t),f(t)},required:!0,disabled:a}),Object(b.jsx)(v.a.Text,{children:"Your show's title as it appears in the station interface."})]})}),Object(b.jsx)(x.a,{children:Object(b.jsxs)(v.a.Group,{controlId:"showDate",children:[Object(b.jsx)(v.a.Label,{children:"Show date"}),Object(b.jsx)(v.a.Control,{type:"date",value:k,onChange:function(e){return S(e.currentTarget.value)},required:!0,disabled:a}),Object(b.jsx)(v.a.Text,{children:"The date this show will air."})]})})]}):null,Object(b.jsx)("div",{className:"text-center",children:Object(b.jsx)(w.a,{variant:"primary",type:"submit",className:"mt-3",disabled:a,children:"Convert"})})]})}var S=a(32),N=a.n(S);function T(e){var t=e.warnings;return Object(b.jsx)(d.a,{className:"options",fluid:"md",children:t.map((function(e){return Object(b.jsxs)(h.a,{variant:"warning",children:[Object(b.jsx)(h.a.Heading,{children:"Track warning"}),Object(b.jsx)("p",{children:e})]})}))})}var C=function(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(void 0),r=Object(o.a)(s,2),l=r[0],p=r[1],x=Object(c.useState)([]),m=Object(o.a)(x,2),f=m[0],g=m[1];return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("main",{children:[Object(b.jsx)(O,{}),Object(b.jsx)(d.a,{className:"options",fluid:"md",children:Object(b.jsx)(k,{loading:a,handleSubmit:function(e){n(!0),p(void 0),g([]);var t=e.oldPlaylistEditor?"/convert_old_playlist":"/convert_new_playlist",a={playlist_url:e.playlistUrl,show_title:e.showTitle,show_date:e.showDate};i.a.post(t,a).then((function(e){if(e.data){g(e.data.warnings);var t=e.data.playlistName||"playlist",a=document.createElement("a"),c=new Blob([e.data.body],{type:"text/plain"});a.href=URL.createObjectURL(c),a.download="".concat(N()(t),".csv"),document.body.appendChild(a),a.click(),a.remove()}else p("Malformed response")})).catch((function(e){console.error(e),console.log(e),e.response?e.response.data&&e.response.data.error?p(e.response.data.error):p("Unknown server error"):e.request?p("Unknown request error"):p("Unknown error")})).finally((function(){n(!1)}))}})}),Object(b.jsx)(d.a,{className:"text-center py-3",children:a?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(j.a,{animation:"border"}),Object(b.jsx)("p",{children:"Converting your tunes..."})]}):null}),l&&Object(b.jsx)(d.a,{className:"options",fluid:"md",children:Object(b.jsxs)(h.a,{variant:"danger",children:[Object(b.jsx)(h.a.Heading,{children:"Conversion error"}),Object(b.jsx)("p",{children:l})]})}),f!==[]&&Object(b.jsx)(T,{warnings:f}),Object(b.jsx)(y,{}),Object(b.jsx)(u,{})]})})};i.a.defaults.baseURL="https://k3eycnkg18.execute-api.us-east-1.amazonaws.com/";var U=function(){return Object(b.jsx)(C,{})},L=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,73)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),s(e),r(e)}))};r.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(U,{})}),document.getElementById("root")),L()}},[[64,1,2]]]);
//# sourceMappingURL=main.9aff03fa.chunk.js.map