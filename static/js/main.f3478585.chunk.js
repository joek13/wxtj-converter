(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{40:function(e,t,c){},41:function(e,t,c){},64:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c.n(a),n=c(10),r=c.n(n),l=(c(40),c(41),c(15)),i=c.n(l),o=c(7),d=c(66),j=c(70),h=c(71),b=c(0);function u(){return Object(b.jsx)("footer",{children:Object(b.jsxs)(d.a,{className:"bg-light text-center p-5",fluid:!0,children:[Object(b.jsxs)("p",{children:["View the ",Object(b.jsx)("a",{href:"https://github.com/joek13/wxtj-converter",children:"source code"})]}),Object(b.jsxs)("p",{children:["Bugs? Feedback or feature requests? Want me to listen to your show? Reach me at ",Object(b.jsx)("a",{href:"mailto:joek1301@gmail.com",children:"joek1301@gmail.com"})]})]})})}var p=function(){return Object(b.jsx)("header",{children:Object(b.jsx)("section",{className:"jumbotron text-center",children:Object(b.jsxs)(d.a,{children:[Object(b.jsx)("h1",{children:"wxtj/wtju playlist converter"}),Object(b.jsxs)("p",{className:"lead",children:["Quickly convert your Spotify playlists to ",Object(b.jsx)("code",{children:".csv"})]})]})})})};function O(){return Object(b.jsxs)(d.a,{className:"mt-3 container-md",children:[Object(b.jsx)("h2",{className:"h4 mb-3",children:"More info"}),Object(b.jsx)("h3",{className:"h5",children:"How it works"}),Object(b.jsxs)("p",{children:["When you paste your playlist URL in the box above, the application connects to the ",Object(b.jsx)("a",{href:"https://developer.spotify.com/documentation/web-api/",children:"Spotify Web API"})," to collect details about each track's title, duration, record label, release year, etc. It collects each track's info, assembles them in the appropriate format, and gives you the completed ",Object(b.jsx)("code",{children:".csv"})," file to download."]}),Object(b.jsxs)("p",{children:["If you're curious (and code-literate), you can find technical details about the implementation in the ",Object(b.jsx)("a",{href:"https://github.com/joek13/wxtj-converter",children:"source code repository"}),"."]}),Object(b.jsx)("h3",{className:"h5",children:"Known issues"}),Object(b.jsxs)("ul",{children:[Object(b.jsxs)("li",{children:[Object(b.jsx)("strong",{children:"Classical composers."})," Due to limitations in the ",Object(b.jsx)("a",{href:"https://developer.spotify.com/documentation/web-api/",children:"Spotify Web API"}),", the converter does not know the difference between artists and composers. The ",Object(b.jsx)("code",{children:"performer"})," column will be filled with the first listed artist, and ",Object(b.jsx)("code",{children:"composer"})," will be left blank. (You can fix these issues manually in the WTJU playlist editor.)"]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("strong",{children:"Local files."})," The converter cannot find information about ",Object(b.jsx)("a",{href:"https://support.spotify.com/us/article/local-files/",children:"local files"})," in your library. If you try to convert a playlist with local files, most columns will be blank."]})]})]})}var x=c(67),m=c(31),f=c(68),y=c.p+"static/media/help1.821cbdef.png",g=c.p+"static/media/help2.910cc469.png";function w(){return Object(b.jsxs)(d.a,{className:"mt-5",children:[Object(b.jsx)("h2",{className:"h4 mb-3",children:"Quick start"}),Object(b.jsxs)(x.a,{children:[Object(b.jsxs)(m.a,{className:"px-4 text-center",md:!0,children:[Object(b.jsx)(f.a,{src:y,className:"mb-2",width:"600",height:"365",alt:"Image of a Spotify playlist. The user is clicking the Share submenu and selecting the option Copy Playlist Link.",fluid:!0,rounded:!0}),Object(b.jsx)("p",{children:"Right-click your playlist on Spotify. Use Share > Copy Playlist Link, and paste the URL in the box above."})]}),Object(b.jsxs)(m.a,{className:"px-4 text-center",md:!0,children:[Object(b.jsx)(f.a,{src:g,className:"mb-2",width:"600",height:"365",alt:"Image of the WTJU station interface.",fluid:!0,rounded:!0}),Object(b.jsxs)("p",{children:["Once the ",Object(b.jsx)("code",{children:".csv"}),' file is downloaded, open your show WTJU\'s playlist editor. Look at "upload playlist", choose the downloaded ',Object(b.jsx)("code",{children:".csv"}),' file, and click "upload".']})]})]})]})}var v=c(72),k=c(69);function S(e){var t=e.handleSubmit,c=e.loading,s=Object(a.useState)(""),n=Object(o.a)(s,2),r=n[0],l=n[1],i=Object(a.useState)("true"===localStorage.getItem("useOldPlaylistEditor")),d=Object(o.a)(i,2),j=d[0],h=d[1],u=Object(a.useState)(localStorage.getItem("showTitle")||void 0),p=Object(o.a)(u,2),O=p[0],f=p[1],y=Object(a.useState)(""),g=Object(o.a)(y,2),w=g[0],S=g[1];return Object(b.jsxs)(v.a,{onSubmit:function(e){e.preventDefault(),t({playlistUrl:r,oldPlaylistEditor:j,showTitle:O,showDate:w})},children:[Object(b.jsxs)(v.a.Group,{className:"mb-3",controlId:"playlistUrl",children:[Object(b.jsx)(v.a.Label,{children:"Playlist URL"}),Object(b.jsx)(v.a.Control,{type:"url",placeholder:"https://open.spotify.com/playlist/4BmW06g5m70HkwZEA1mds9?si=9f6b19eec5fd44e3",value:r,onChange:function(e){return l(e.currentTarget.value)},required:!0,disabled:c})]}),Object(b.jsx)(v.a.Group,{className:"mb-2",controlId:"oldPlaylistEditor",children:Object(b.jsx)(v.a.Check,{checked:j,onChange:function(e){var t=e.currentTarget.checked;localStorage.setItem("useOldPlaylistEditor",t.toString()),h(t)},label:"Format for Old Playlist Editor",disabled:c})}),j?Object(b.jsxs)(x.a,{children:[Object(b.jsx)(m.a,{children:Object(b.jsxs)(v.a.Group,{controlId:"showTitle",children:[Object(b.jsx)(v.a.Label,{children:"Show title"}),Object(b.jsx)(v.a.Control,{placeholder:"hot tub listening club",value:O,onChange:function(e){var t=e.currentTarget.value;localStorage.setItem("showTitle",t),f(t)},required:!0,disabled:c}),Object(b.jsx)(v.a.Text,{children:"Your show's title as it appears in the station interface."})]})}),Object(b.jsx)(m.a,{children:Object(b.jsxs)(v.a.Group,{controlId:"showDate",children:[Object(b.jsx)(v.a.Label,{children:"Show date"}),Object(b.jsx)(v.a.Control,{type:"date",value:w,onChange:function(e){return S(e.currentTarget.value)},required:!0,disabled:c}),Object(b.jsx)(v.a.Text,{children:"The date this show will air."})]})})]}):null,Object(b.jsx)("div",{className:"text-center",children:Object(b.jsx)(k.a,{variant:"primary",type:"submit",className:"mt-3",disabled:c,children:"Convert"})})]})}var N=c(32),T=c.n(N);function C(e){var t=e.warnings;return Object(b.jsx)(d.a,{className:"options",fluid:"md",children:t.map((function(e){return Object(b.jsxs)(h.a,{variant:"warning",children:[Object(b.jsx)(h.a.Heading,{children:"Track warning"}),Object(b.jsx)("p",{children:e})]})}))})}var I=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(void 0),r=Object(o.a)(n,2),l=r[0],x=r[1],m=Object(a.useState)([]),f=Object(o.a)(m,2),y=f[0],g=f[1];return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("main",{children:[Object(b.jsx)(p,{}),Object(b.jsx)(d.a,{className:"options",fluid:"md",children:Object(b.jsx)(S,{loading:c,handleSubmit:function(e){s(!0),x(void 0),g([]);var t=e.oldPlaylistEditor?"/convert_old_playlist":"/convert_new_playlist",c={playlist_url:e.playlistUrl,show_title:e.showTitle,show_date:e.showDate};i.a.post(t,c).then((function(e){if(e.data){g(e.data.warnings);var t=e.data.playlistName||"playlist",c=document.createElement("a"),a=new Blob([e.data.body],{type:"text/plain"});c.href=URL.createObjectURL(a),c.download="".concat(T()(t),".csv"),document.body.appendChild(c),c.click(),c.remove()}else x("Malformed response")})).catch((function(e){console.error(e),console.log(e),e.response?e.response.data&&e.response.data.error?x(e.response.data.error):x("Unknown server error"):e.request?x("Unknown request error"):x("Unknown error")})).finally((function(){s(!1)}))}})}),Object(b.jsx)(d.a,{className:"text-center py-3",children:c?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(j.a,{animation:"border"}),Object(b.jsx)("p",{children:"Converting your tunes..."})]}):null}),l&&Object(b.jsx)(d.a,{className:"options",fluid:"md",children:Object(b.jsxs)(h.a,{variant:"danger",children:[Object(b.jsx)(h.a.Heading,{children:"Conversion error"}),Object(b.jsx)("p",{children:l})]})}),y!==[]&&Object(b.jsx)(C,{warnings:y}),Object(b.jsx)(w,{}),Object(b.jsx)(O,{}),Object(b.jsx)(u,{})]})})};i.a.defaults.baseURL="https://k3eycnkg18.execute-api.us-east-1.amazonaws.com/";var U=function(){return Object(b.jsx)(I,{})},L=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,73)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;c(e),a(e),s(e),n(e),r(e)}))};r.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(U,{})}),document.getElementById("root")),L()}},[[64,1,2]]]);
//# sourceMappingURL=main.f3478585.chunk.js.map